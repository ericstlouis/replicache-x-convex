exports.id=644,exports.ids=[644],exports.modules={6274:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,5279,23)),Promise.resolve().then(s.t.bind(s,4600,23)),Promise.resolve().then(s.t.bind(s,7568,23)),Promise.resolve().then(s.t.bind(s,5589,23)),Promise.resolve().then(s.t.bind(s,6783,23)),Promise.resolve().then(s.t.bind(s,53,23))},1356:(e,t,s)=>{Promise.resolve().then(s.bind(s,3364))},8940:(e,t,s)=>{Promise.resolve().then(s.bind(s,2365))},3364:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var a=s(1057);s(7824);var r=s(233);s(1789);var n=s(9913);function l({children:e,...t}){return a.jsx(n.f,{...t,children:e})}function o({children:e}){return(0,a.jsxs)("html",{lang:"en",suppressHydrationWarning:!0,children:[a.jsx("head",{}),a.jsx("body",{className:(0,r.cn)("min-h-screen bg-background font-sans antialiased"),children:a.jsx(l,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:e})})]})}},2365:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>V});var a=s(1057),r=s(1789),n=s(661),l=s(9913),o=s(1965),i=s(8680),d=s(233);let c=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=r.forwardRef(({className:e,variant:t,size:s,asChild:r=!1,...n},l)=>{let i=r?o.g7:"button";return a.jsx(i,{className:(0,d.cn)(c({variant:t,size:s,className:e})),ref:l,...n})});u.displayName="Button";var m=s(9179),f=s(7045),p=s(7637),x=s(3769);let h=m.fC,b=m.xz;m.ZA,m.Uv,m.Tr,m.Ee,r.forwardRef(({className:e,inset:t,children:s,...r},n)=>(0,a.jsxs)(m.fF,{ref:n,className:(0,d.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[s,a.jsx(f.Z,{className:"ml-auto h-4 w-4"})]})).displayName=m.fF.displayName,r.forwardRef(({className:e,...t},s)=>a.jsx(m.tu,{ref:s,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})).displayName=m.tu.displayName;let g=r.forwardRef(({className:e,sideOffset:t=4,...s},r)=>a.jsx(m.Uv,{children:a.jsx(m.VY,{ref:r,sideOffset:t,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));g.displayName=m.VY.displayName;let v=r.forwardRef(({className:e,inset:t,...s},r)=>a.jsx(m.ck,{ref:r,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...s}));function j(){let{setTheme:e}=(0,l.F)();return(0,a.jsxs)(h,{children:[a.jsx(b,{asChild:!0,children:(0,a.jsxs)(u,{variant:"outline",size:"icon",children:[a.jsx(n.NWY,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),a.jsx(n.kLh,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),a.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),(0,a.jsxs)(g,{align:"end",children:[a.jsx(v,{onClick:()=>e("light"),children:"Light"}),a.jsx(v,{onClick:()=>e("dark"),children:"Dark"}),a.jsx(v,{onClick:()=>e("system"),children:"System"})]})]})}v.displayName=m.ck.displayName,r.forwardRef(({className:e,children:t,checked:s,...r},n)=>(0,a.jsxs)(m.oC,{ref:n,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(m.wU,{children:a.jsx(p.Z,{className:"h-4 w-4"})})}),t]})).displayName=m.oC.displayName,r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(m.Rk,{ref:r,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(m.wU,{children:a.jsx(x.Z,{className:"h-2 w-2 fill-current"})})}),t]})).displayName=m.Rk.displayName,r.forwardRef(({className:e,inset:t,...s},r)=>a.jsx(m.__,{ref:r,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...s})).displayName=m.__.displayName,r.forwardRef(({className:e,...t},s)=>a.jsx(m.Z0,{ref:s,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=m.Z0.displayName;let y=r.forwardRef(({className:e,type:t,...s},r)=>a.jsx("input",{type:t,className:(0,d.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...s}));function w({handleText:e}){let[t,s]=(0,r.useState)(""),n=async a=>{a.preventDefault(),e(t),s("")};return(0,a.jsxs)("div",{className:"flex w-full max-w-sm items-center space-x-2",children:[a.jsx(y,{type:"text",placeholder:"Task",value:t,onChange:e=>s(e.target.value)}),a.jsx(u,{type:"submit",onClick:e=>n(e),children:"Add Task"})]})}y.displayName="Input";var N=s(6798);let k=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(N.fC,{ref:r,className:(0,d.cn)("relative overflow-hidden",e),...s,children:[a.jsx(N.l_,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(T,{}),a.jsx(N.Ns,{})]}));k.displayName=N.fC.displayName;let T=r.forwardRef(({className:e,orientation:t="vertical",...s},r)=>a.jsx(N.gb,{ref:r,orientation:t,className:(0,d.cn)("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...s,children:a.jsx(N.q4,{className:"relative flex-1 rounded-full bg-border"})}));T.displayName=N.gb.displayName;var C=s(7604);let R=r.forwardRef(({className:e,orientation:t="horizontal",decorative:s=!0,...r},n)=>a.jsx(C.f,{ref:n,decorative:s,orientation:t,className:(0,d.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...r}));R.displayName=C.f.displayName;let I=(0,s(2005).Ue)(e=>({rep:null,userId:"",setRep:(t,s)=>e({rep:t,userId:s})}));function z({id:e}){let t=I().rep;return a.jsx(u,{className:"px-2 py-1 m-0",onClick:()=>{console.log(e),t&&t.mutate&&t.mutate.deleteTask&&t.mutate.deleteTask(e)},children:a.jsx(n.XHJ,{className:"w-3"})})}let S=({task:e})=>{let t=I().rep,[s,l]=(0,r.useState)(!1),[o,i]=(0,r.useState)(e);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex justify-between space-x-2",children:[s?(0,a.jsxs)("div",{className:"flex w-full",children:[a.jsx(y,{className:"line-through",value:o.taskText,onChange:e=>{let s={...o};s.taskText=e.target.value,i(s),t?.mutate.updateTask(s)}}),a.jsx(u,{className:"px-2 py-1",onClick:e=>l(!1),children:a.jsx(n.nQG,{className:"w-3"})})]}):(0,a.jsxs)("div",{className:"flex w-full",children:[e.completed?a.jsx("div",{className:" text-sm line-through w-full",children:o?.taskText}):a.jsx("div",{className:"text-sm w-full ",children:o?.taskText}),a.jsx(u,{className:"px-2 py-1",onClick:e=>l(!0),children:a.jsx(n.JtS,{className:"w-3"})})]}),a.jsx(z,{id:e.id}),a.jsx(u,{className:"px-2 py-1 mr-2",onClick:()=>{let e={...o};e.completed=!e.completed,console.log("prevouis-Data",o),console.log("updated-Data",e),i(e),t?.mutate.updateTask(e)},children:a.jsx(n.NhS,{})})]}),a.jsx(R,{className:"my-2"})]})};function P({tasks:e}){return a.jsx(k,{className:" h-72 w-72 rounded-md border lg:w-96",children:(0,a.jsxs)("div",{className:"p-4",children:[a.jsx("h4",{className:"mb-4 text-sm font-medium leading-none",children:"Tags"}),e.map(e=>a.jsx("div",{children:a.jsx(S,{task:e})},e.id))]})})}var D=s(4465),_=s(2738);async function U(e){return await e.scan({prefix:"task/"}).entries().toArray()}let Z={deleteTask:async(e,t)=>{await e.del(t)},createTask:async(e,t)=>{let{id:s,userId:a,taskText:r,completed:n}=t;await e.set(s,{taskText:r,userId:a,completed:n})},updateTask:async(e,t)=>{console.log("task from the mutators: ",t);let{id:s}=t,a=await e.get(s);if(!a)throw Error(`Task ${s} does not exist`);if("object"!=typeof a||"object"!=typeof t)throw Error("Existing task or new task is not an object");let r={...t};await e.set(r.id,{taskText:r.taskText,userId:r.userId,completed:r.completed})}};function $(){let{rep:e,userId:t}=I(),s=(0,_.Q)(e,U),r=s?s.map(([e,t])=>{let{id:s,userId:a,taskText:r,completed:n=!1}=t;return{id:e,userId:a,taskText:r,completed:n}}):[];return console.log(r),a.jsx("main",{className:"flex min-h-screen flex-col items-center justify-between p-12",children:(0,a.jsxs)("div",{className:"z-10 max-w-5xl w-full items-center justify-between font-mono text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between space-x-7",children:[a.jsx(j,{}),a.jsx("h1",{className:"text-3xl",children:"Replicache X Convex"})]}),a.jsx("div",{className:"fixed bottom-0 left-0 flex h-48 w-full items-end justify-center bg-gradient-to-t from-white via-white dark:from-black dark:via-black",children:(0,a.jsxs)("a",{className:"pointer-events-none flex place-items-center gap-2 p-8 lg:pointer-events-auto lg:p-0",href:"www.ericsl.dev",target:"_blank",rel:"noopener noreferrer",children:["By ",a.jsx("h1",{children:"Shinobi"})]})}),a.jsx("section",{className:"flex items-center justify-center",children:(0,a.jsxs)("div",{className:"p-14 space-y-3 ",children:[a.jsx(w,{handleText:s=>{e&&e.mutate&&e.mutate.createTask&&e.mutate.createTask({id:`task/${(0,D.x0)()}`,userId:t,taskText:s,completed:!1})}}),s&&a.jsx(P,{tasks:r||[]})]})})]})})}var q=s(3054),E=s(4893);let G=s(4211).qL;class M{convex;constructor(e){this.convex=e}async replicachePush(e,t){return console.log(this.convex,"push",e,t),await this.convex.mutation(G.push.default,{clientGroupID:e.clientGroupID,mutations:e.mutations}),{httpRequestInfo:{httpStatusCode:200,errorMessage:""}}}async replicachePull(e,t,s){if(console.log(this.convex,"pull",e,t,s),null!==e.cookie&&"number"!=typeof e.cookie)throw Error(`Invalid cookie: ${e.cookie}`);return{httpRequestInfo:{httpStatusCode:200,errorMessage:""},response:await this.convex.query(G.pull.default,{clientGroupID:e.clientGroupID,cookie:e.cookie,userId:s})}}subscribe(e){return this.convex.onUpdate(G.pull.currentServerVersion,{},()=>{e.pull()})}}var F=s(6850);function V(){let{rep:e,setRep:t}=I();return((0,r.useEffect)(()=>{let e=F.Z.get("userID");e||(e=(0,D.x0)(),F.Z.set("userID",e)),t(function(e,t){let s=new M(e);console.log("This is Replicache Client speaking!!!: ",t);let a=new E.Gb({name:"replicache-convex",licenseKey:"l8945ef1732a44b3cb65d731e65d495cd",mutators:Z,pusher:(e,t)=>s.replicachePush(e,t)});return s.subscribe(a),a}(new q.qB("https://watchful-nightingale-454.convex.cloud"),e),e)},[]),e)?a.jsx("main",{className:"",children:a.jsx($,{})}):null}},233:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var a=s(484),r=s(1669);function n(...e){return(0,r.m6)((0,a.W)(e))}},7318:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>r,default:()=>l});let a=(0,s(6443).createProxy)(String.raw`C:\Users\erics\code\todo-reco\src\app\layout.tsx`),{__esModule:r,$$typeof:n}=a,l=a.default},9225:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>r,default:()=>l});let a=(0,s(6443).createProxy)(String.raw`C:\Users\erics\code\todo-reco\src\app\page.tsx`),{__esModule:r,$$typeof:n}=a,l=a.default},8059:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(818);let r=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},7824:()=>{}};